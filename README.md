## 0. 소개

기존의 모놀리스 아키텍처가 서비스 규모가 커질수록 유지 보수가 어려워졌습니다. </br>
기능 추가와 서버 배포까지의 시간이 오래 소요되었고, 요청이 자주 발생하는 기능 별로 세밀하게 스케일링 하기 어려웠습니다. </br>
아래는 기존 모놀리식 서비스의 레포지토리입니다.

[전환 전 레포지토리](https://github.com/BuD2023/BuDBackend)

따라서 마이크로 서비스 아키텍처 도입이 필요함을 느꼈고 기존 서비스를 MSA 로 전환했습니다. </br>
커뮤니티/유저/깃허브/뉴스 네 개의 서버로 나누어 별도의 레포지토리로 개발했습니다. 
MSA 전환 후 레포지토리는 아래 링크에서 확인하실 수 있습니다.

[전환 후 레포지토리 모음](https://github.com/orgs/2two22/repositories)

## 1. 마이크로 서비스 아키텍처 구성요소

- 마이크로 서비스 아키텍처 도식화
    - User 서버 중심의 MSA 간 통신이 이루어진다.
    <img width="1111" alt="Untitled (4)" src="https://github.com/user-attachments/assets/4440b2f3-a4b4-40f6-95fa-bd470a5f9b2d">

    MSA 아키텍처 도식화
    
- 마이크로 서비스 간의 통신
    - 모든 통신은 직접 통신으로 이루어진다.
        - **User ↔ Community** : User 서버는 Community 서버에게 user의 포스팅 개수를 요청한다.
        - **User ↔ News** : User 서버는 News 서버에게 user의 북마크 개수를 요청한다.
        - **User ↔ Github** : User 서버는 소셜 로그인 시 깃허브 서버에게 유저의 깃허브 토큰과 아이디를 저장해달라고 요청한다.
        - **Community ↔ User** : Community 서버는 User 서버에게 글 쓴 유저 프로필 데이터를 요청한다.
- 마이크로 서비스 별 기능
    - **User** : 유저의 회원가입, 로그인, 토큰 생성 및 갱신 등 인증에 관한 부분 및 유저 팔로우, 프로필 조회
    - **Github** : 커밋 정보(한 주간의 커밋 수, 연속 커밋 수), 자신의 커밋 기록에 따라 업그레이드 되는 레벨
    - **News** : 크롤링한 IT 관련 naver 뉴스 조회, 검색 및 스크랩 기능
    - **Community** : QnA 및 자유글 등의 포스팅 및 댓글, 좋아요 기능
